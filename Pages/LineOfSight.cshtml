@page
@model VONetData.Pages.LineOfSightModel
@{
    ViewData["Title"] = "Line of Sight Tool";
}

<div class="max-w-4xl mx-auto bg-white rounded shadow p-8 mt-8">
    <h2 class="text-2xl font-bold mb-6 text-gray-800 text-center">Line of Sight Tool</h2>
    <form method="post" class="space-y-6">
        <div>
            <label class="block font-semibold mb-1">Address to Check</label>
            <input asp-for="Address" class="w-full border rounded px-3 py-2" placeholder="e.g. 123 Main St, Las Vegas, NV" />
        </div>
        <button type="submit" class="w-full bg-yellow-600 text-white py-2 rounded font-semibold hover:bg-yellow-700 transition">Check Line of Sight</button>
    </form>
    @if (Model.ResultMessage != null)
    {
        <div class="mt-6">
            <div class="p-4 rounded text-center bg-blue-100 text-blue-800">
                @Model.ResultMessage
            </div>
        </div>
    }
    <div class="mt-8">
        <div id="los-map" style="height: 550px; width: 100%;"></div>
    </div>
</div>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    var losMap = L.map('los-map').setView([36.1699, -115.1398], 12);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap'
    }).addTo(losMap);
    // Example: Add a marker for demonstration
    L.marker([36.1699, -115.1398]).addTo(losMap).bindPopup('Las Vegas Center');
</script>
